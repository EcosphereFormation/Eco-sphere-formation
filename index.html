<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Formulaire d'inscription</title>
</head>
<body>
  <h2>Inscription à la formation</h2>
  <form id="registrationForm" onsubmit="submitForm(); return false;">
    <input type="text" id="nom" name="nom" placeholder="Nom" required><br><br>
    <input type="text" id="prenom" name="prenom" placeholder="Prénom" required><br><br>
    <input type="number" id="age" name="age" placeholder="Âge" required><br><br>
    <input type="text" id="adresse" name="adresse" placeholder="Adresse" required><br><br>
    <input type="text" id="code_postal" name="code_postal" placeholder="Code postal" required><br><br>
    <input type="text" id="ville" name="ville" placeholder="Ville" required><br><br>
    <input type="tel" id="telephone" name="telephone" placeholder="Téléphone" required><br><br>
    <input type="email" id="email" name="email" placeholder="E-mail" required><br><br>
    <select id="payment_method" name="payment_method" required>
      <option value="chèque">Chèque</option>
      <option value="espèces">Espèces</option>
      <option value="virement">Virement bancaire</option>
    </select><br><br>
    <input type="submit" value="Valider l'inscription">
  </form>

  <script>
    function submitForm() {
      var url = "https://script.google.com/macros/s/AKfycbwpSNG2Gm33IID76_frsmybDqL2zKtUbKe3wdPuucZO1b-Flaj7cpg949wOHQ1-QxBbLQ/exec";
      var data = {
        nom: document.getElementById('nom').value,
        prenom: document.getElementById('prenom').value,
        age: document.getElementById('age').value,
        adresse: document.getElementById('adresse').value,
        code_postal: document.getElementById('code_postal').value,
        ville: document.getElementById('ville').value,
        telephone: document.getElementById('telephone').value,
        email: document.getElementById('email').value,
        payment_method: document.getElementById('payment_method').value
      };

      fetch(url, {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify(data)
      })
      .then(response => response.text())
      .then(response => alert("Inscription réussie : " + response))
      .catch(error => console.error("Erreur lors de l'inscription : ", error));
    }
  </script>
</body>
</html>
